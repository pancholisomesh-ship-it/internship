<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Monthly Expense Prediction</title><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
<!-- <a href="/logout">Logout</a> -->
<h1>Monthly Expense Prediction</h1>
<p style="text-align: center;color: #1a73e8;">Enter customer features:</p>
<form id="predict-form">
<label>Kitchen and Home Items:
<select name="kitchen">
    <option value="5000">Dinner Set</option>
    <option value="950">Gas ki tanki</option>
    <option value="2000">thali bartan</option>
</select>
</label><br>
<label>Clothes:
<select name="clothes">
    <option value="3000">Woolen</option>
    <option value="2500">Cotton</option>
</select>
</label><br>
<label>Electronic:
<select name="electronics">
    <option value="50000">TV</option>
    <option value="2000">Earbuds</option>
    <option value="39000">AC</option>
    <option value="30000">Fridge</option>
</select>
</label><br>
<label>Milk:
<input name="milk" type="number">
</label><br>
<label>Grocery:
<input name="grocery" type="number">
</label><br>
<label>Stationery:
<select name="stationary">
    <option value="1000">Pencil Box</option>
    <option value="100">Registers</option>
</select>
</label><br>

<label>Beauty Care:
<select name="beauty">
    <option value="300">Shampoo</option>
    <option value="2000">Make Up Kit</option>
</select>
</label><br>

<label>Health & Fitness:
<select name="health">
    <option value="5000">Suplements</option>
    <option value="4000">Medicines</option>
</select>
</label><br>

<button type="submit">Predict</button>
</form>

<div id="result"></div>

<script >
document.getElementById("predict-form").addEventListener("submit",async function(e){
e.preventDefault();
const form = e.target;
const features = [
Number(form.kitchen.value),
Number(form.clothes.value),
Number(form.electronics.value),
Number(form.milk.value),
Number(form.grocery.value),
Number(form.stationary.value),
Number(form.beauty.value),
Number(form.health.value)
];

const resp = await fetch('http://127.0.0.1:5000/predict', {
method: 'POST',
headers: { 'Content-Type': 'application/json' },
body: JSON.stringify({ features })
});
const data = await resp.json();
console.log(data,"data")
if (resp.ok) {
document.getElementById('result').innerText = 'Amount: ' + data?.predicted_bill;
} else {
document.getElementById('result').innerText = 'Error: ' + (data.error || JSON.stringify(data));
}
});
</script>
</body>
</html> 




